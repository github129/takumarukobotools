<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Power Apps SVG Gallery | たく丸工房</title>
    <meta name="description" content="Power Appsで使えるSVGグラフやカードのサンプル集。コピペですぐに使える実用的なSVGコードを提供。カスタマイズも自由自在。">
    <meta property="og:title" content="Power Apps SVG Gallery | たく丸工房">
    <meta property="og:description" content="Power Appsで使えるSVGグラフ・カードのサンプル集">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://tools.takumarukobo.com/power-apps-svg-gallery/">

    <link rel="icon" type="image/png" href="../logo.png">
    <link rel="apple-touch-icon" href="../logo.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />

    <style>
        body {
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
            background-color: #F5F5F7;
            color: #1D1D1F;
        }
        html { scroll-behavior: smooth; }

        .material-symbols-rounded {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }

        .svg-card {
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        .svg-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px -8px rgba(0,0,0,0.15);
        }

        .category-tag {
            transition: all 0.2s ease;
        }

        .category-tag.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.show {
            display: flex;
        }

        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 13px;
            line-height: 1.6;
        }
    </style>
</head>
<body class="antialiased">

    <!-- ナビゲーションバー -->
    <nav class="fixed top-0 w-full z-50 bg-white/70 backdrop-blur-xl border-b border-gray-200/50 transition-all duration-300">
        <div class="max-w-7xl mx-auto px-6 h-14 flex items-center justify-between">
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 rounded-lg overflow-hidden shadow-sm">
                    <img src="../logo.png" alt="たく丸工房 Logo" class="w-full h-full object-cover">
                </div>
                <span class="font-semibold tracking-tight text-gray-900">たく丸工房 Tools</span>
            </div>
            <div class="hidden md:flex space-x-6 text-sm font-medium text-gray-500">
                <a href="../index.html" class="hover:text-gray-900 transition-colors">Tools</a>
                <a href="../about.html" class="hover:text-gray-900 transition-colors">About</a>
                <a href="https://takumarukobo.com/" target="_blank" class="hover:text-gray-900 transition-colors">Home</a>
            </div>
        </div>
    </nav>

    <!-- ヘッダー -->
    <section class="pt-32 pb-12 px-6 text-center max-w-5xl mx-auto">
        <span class="inline-flex items-center gap-1 py-1 px-3 rounded-full bg-white border border-gray-200 text-xs font-semibold text-indigo-600 mb-6 shadow-sm">
            <span class="material-symbols-rounded text-[16px]">palette</span> SVG Gallery
        </span>
        <h1 class="text-4xl md:text-5xl font-bold tracking-tight leading-tight mb-6 text-gray-900">
            Power Apps用<br class="md:hidden"><span class="text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600">SVGサンプル集</span>
        </h1>
        <p class="text-lg text-gray-500 font-normal leading-relaxed max-w-2xl mx-auto mb-8">
            グラフ、カード、アイコンなど、コピペですぐに使えるSVGコードを提供。<br>
            Power Appsでの開発を加速させる、実用的なビジュアル要素が揃っています。
        </p>

        <!-- 検索バー -->
        <div class="max-w-xl mx-auto mb-8">
            <div class="relative">
                <span class="material-symbols-rounded absolute left-4 top-1/2 -translate-y-1/2 text-gray-400">search</span>
                <input
                    type="text"
                    id="searchInput"
                    placeholder="サンプルを検索..."
                    class="w-full pl-12 pr-4 py-3 rounded-2xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all bg-white shadow-sm"
                >
            </div>
        </div>

        <!-- カテゴリータグ -->
        <div class="flex flex-wrap gap-2 justify-center mb-6">
            <button class="category-tag active px-4 py-2 rounded-full text-sm font-medium bg-gray-100 text-gray-700 hover:bg-gray-200" data-category="all">
                すべて
            </button>
            <button class="category-tag px-4 py-2 rounded-full text-sm font-medium bg-gray-100 text-gray-700 hover:bg-gray-200" data-category="graph">
                グラフ
            </button>
            <button class="category-tag px-4 py-2 rounded-full text-sm font-medium bg-gray-100 text-gray-700 hover:bg-gray-200" data-category="card">
                カード
            </button>
            <button class="category-tag px-4 py-2 rounded-full text-sm font-medium bg-gray-100 text-gray-700 hover:bg-gray-200" data-category="icon">
                アイコン
            </button>
            <button class="category-tag px-4 py-2 rounded-full text-sm font-medium bg-gray-100 text-gray-700 hover:bg-gray-200" data-category="ui">
                UI要素
            </button>
        </div>

        <!-- 件数表示 -->
        <p class="text-sm text-gray-500">
            <span id="resultCount">0</span> 件のサンプル
        </p>
    </section>

    <!-- SVGギャラリー -->
    <section class="px-6 pb-32 max-w-7xl mx-auto">
        <div id="galleryGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- SVGカードがここに動的に生成されます -->
        </div>

        <!-- 検索結果なし -->
        <div id="noResults" class="hidden text-center py-20">
            <span class="material-symbols-rounded text-6xl text-gray-300 mb-4">search_off</span>
            <p class="text-gray-500 text-lg">該当するサンプルが見つかりませんでした</p>
        </div>
    </section>

    <!-- モーダル -->
    <div id="modal" class="modal">
        <div class="bg-white rounded-3xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto shadow-2xl">
            <div class="sticky top-0 bg-white border-b border-gray-200 px-8 py-6 flex items-center justify-between rounded-t-3xl">
                <div>
                    <h2 id="modalTitle" class="text-2xl font-bold text-gray-900 mb-1">サンプル名</h2>
                    <p id="modalCategory" class="text-sm text-gray-500">カテゴリー</p>
                </div>
                <button onclick="closeModal()" class="text-gray-400 hover:text-gray-600 transition-colors">
                    <span class="material-symbols-rounded text-[32px]">close</span>
                </button>
            </div>

            <div class="p-8">
                <!-- プレビュー -->
                <div class="mb-8">
                    <h3 class="text-sm font-semibold text-gray-700 mb-4 uppercase tracking-wide">プレビュー</h3>
                    <div class="bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl p-12 flex items-center justify-center min-h-[300px]">
                        <div id="modalPreview" class="w-full max-w-md"></div>
                    </div>
                </div>

                <!-- 説明 -->
                <div class="mb-8">
                    <h3 class="text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wide">説明</h3>
                    <p id="modalDescription" class="text-gray-600 leading-relaxed"></p>
                </div>

                <!-- SVGコード -->
                <div class="mb-8">
                    <div class="flex items-center justify-between mb-3">
                        <h3 class="text-sm font-semibold text-gray-700 uppercase tracking-wide">SVGコード</h3>
                        <button onclick="copySvgCode()" class="px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-medium rounded-lg transition-colors flex items-center gap-2">
                            <span class="material-symbols-rounded text-[18px]">content_copy</span>
                            コピー
                        </button>
                    </div>
                    <div class="code-block">
                        <pre id="modalCode"></pre>
                    </div>
                </div>

                <!-- Power Apps用コード -->
                <div>
                    <div class="flex items-center justify-between mb-3">
                        <h3 class="text-sm font-semibold text-gray-700 uppercase tracking-wide">Power Apps用コード</h3>
                        <button onclick="copyPowerAppsCode()" class="px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white text-sm font-medium rounded-lg transition-colors flex items-center gap-2">
                            <span class="material-symbols-rounded text-[18px]">content_copy</span>
                            コピー
                        </button>
                    </div>
                    <div class="code-block">
                        <pre id="modalPowerAppsCode"></pre>
                    </div>
                    <p class="text-sm text-gray-500 mt-3">
                        <span class="material-symbols-rounded text-[16px] align-middle">info</span>
                        ImageコントロールのImageプロパティに貼り付けてください
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- フッター -->
    <footer class="border-t border-gray-200 bg-white py-12 px-6">
        <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-6">
            <div class="flex items-center gap-2">
                <div class="w-6 h-6 rounded overflow-hidden">
                    <img src="../logo.png" alt="たく丸工房 Logo" class="w-full h-full object-cover">
                </div>
                <p class="text-gray-500 text-sm">© 2025 Takumaru Kobo. All rights reserved.</p>
            </div>
            <div class="flex space-x-6">
                <a href="../about.html" class="text-gray-400 hover:text-gray-900 text-sm transition-colors">About</a>
                <a href="https://takumarukobo.com/page-152/" class="text-gray-400 hover:text-gray-900 text-sm transition-colors">お問い合わせ</a>
                <a href="https://x.com/taku_ma_ru" class="text-gray-400 hover:text-gray-900 text-sm transition-colors">X (Twitter)</a>
            </div>
        </div>
    </footer>

    <script>
        // SVGサンプルデータ
        const svgSamples = [
            {
                id: 1,
                title: "シンプル棒グラフ",
                category: "graph",
                description: "3つのデータを棒グラフで表示。色やサイズはカスタマイズ可能です。データバインディングに対応。",
                svgCode: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 200" width="300" height="200">
  <rect x="50" y="80" width="40" height="100" fill="#667eea" rx="4"/>
  <rect x="130" y="40" width="40" height="140" fill="#764ba2" rx="4"/>
  <rect x="210" y="100" width="40" height="80" fill="#f093fb" rx="4"/>
  <text x="70" y="195" text-anchor="middle" font-size="12" fill="#666">A</text>
  <text x="150" y="195" text-anchor="middle" font-size="12" fill="#666">B</text>
  <text x="230" y="195" text-anchor="middle" font-size="12" fill="#666">C</text>
</svg>`
            },
            {
                id: 2,
                title: "円グラフ",
                category: "graph",
                description: "2色の円グラフ。パーセンテージ表示付き。中央のテキストもカスタマイズ可能。",
                svgCode: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" width="200" height="200">
  <circle cx="100" cy="100" r="80" fill="#f0f0f0"/>
  <circle cx="100" cy="100" r="80" fill="none" stroke="#667eea" stroke-width="40" stroke-dasharray="377 377" stroke-dashoffset="94.25" transform="rotate(-90 100 100)"/>
  <text x="100" y="105" text-anchor="middle" font-size="32" font-weight="bold" fill="#667eea">75%</text>
</svg>`
            },
            {
                id: 3,
                title: "折れ線グラフ",
                category: "graph",
                description: "トレンドを示す折れ線グラフ。グラデーション背景付きで視認性抜群。",
                svgCode: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 150" width="300" height="150">
  <defs>
    <linearGradient id="lineGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:0.3" />
      <stop offset="100%" style="stop-color:#667eea;stop-opacity:0" />
    </linearGradient>
  </defs>
  <polyline points="20,100 80,80 140,60 200,70 260,30" fill="none" stroke="#667eea" stroke-width="3"/>
  <polygon points="20,100 80,80 140,60 200,70 260,30 260,130 20,130" fill="url(#lineGrad)"/>
  <circle cx="20" cy="100" r="4" fill="#667eea"/>
  <circle cx="80" cy="80" r="4" fill="#667eea"/>
  <circle cx="140" cy="60" r="4" fill="#667eea"/>
  <circle cx="200" cy="70" r="4" fill="#667eea"/>
  <circle cx="260" cy="30" r="4" fill="#667eea"/>
</svg>`
            },
            {
                id: 4,
                title: "KPIカード",
                category: "card",
                description: "売上や目標達成率などのKPIを表示するカード。数値とラベルを簡単に変更可能。",
                svgCode: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 150" width="300" height="150">
  <rect width="300" height="150" fill="#ffffff" rx="12"/>
  <rect width="300" height="150" fill="url(#cardGrad)" rx="12" opacity="0.1"/>
  <defs>
    <linearGradient id="cardGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea" />
      <stop offset="100%" style="stop-color:#764ba2" />
    </linearGradient>
  </defs>
  <text x="20" y="40" font-size="14" fill="#666" font-weight="500">今月の売上</text>
  <text x="20" y="85" font-size="36" fill="#1a1a1a" font-weight="bold">¥1.2M</text>
  <text x="20" y="115" font-size="12" fill="#10b981">↑ 15% vs 先月</text>
</svg>`
            },
            {
                id: 5,
                title: "ステータスカード",
                category: "card",
                description: "プロジェクトやタスクのステータスを表示。アイコンと色でステータスを視覚化。",
                svgCode: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 120" width="300" height="120">
  <rect width="300" height="120" fill="#ffffff" rx="12" stroke="#e5e7eb" stroke-width="1"/>
  <circle cx="40" cy="60" r="20" fill="#10b981" opacity="0.1"/>
  <path d="M 35 60 L 38 63 L 45 56" stroke="#10b981" stroke-width="2" fill="none" stroke-linecap="round"/>
  <text x="75" y="55" font-size="16" fill="#1a1a1a" font-weight="600">プロジェクト完了</text>
  <text x="75" y="75" font-size="12" fill="#666">すべてのタスクが完了しました</text>
</svg>`
            },
            {
                id: 6,
                title: "情報カード",
                category: "card",
                description: "アイコン付きの情報カード。通知やお知らせの表示に最適。",
                svgCode: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 100" width="300" height="100">
  <rect width="300" height="100" fill="#eff6ff" rx="12"/>
  <rect x="0" y="0" width="6" height="100" fill="#3b82f6" rx="12"/>
  <circle cx="35" cy="50" r="12" fill="#3b82f6" opacity="0.2"/>
  <text x="35" y="55" font-size="16" fill="#3b82f6" font-weight="bold" text-anchor="middle">i</text>
  <text x="60" y="45" font-size="14" fill="#1a1a1a" font-weight="600">重要なお知らせ</text>
  <text x="60" y="65" font-size="12" fill="#666">システムメンテナンスを実施します</text>
</svg>`
            },
            {
                id: 7,
                title: "チェックマークアイコン",
                category: "icon",
                description: "成功やタスク完了を示すチェックマーク。グラデーション対応。",
                svgCode: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="100" height="100">
  <defs>
    <linearGradient id="checkGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981" />
      <stop offset="100%" style="stop-color:#059669" />
    </linearGradient>
  </defs>
  <circle cx="50" cy="50" r="45" fill="url(#checkGrad)"/>
  <path d="M 30 50 L 42 62 L 70 34" stroke="white" stroke-width="6" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`
            },
            {
                id: 8,
                title: "アラートアイコン",
                category: "icon",
                description: "警告やエラーを示すアラートアイコン。注意喚起に使用。",
                svgCode: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="100" height="100">
  <defs>
    <linearGradient id="alertGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ef4444" />
      <stop offset="100%" style="stop-color:#dc2626" />
    </linearGradient>
  </defs>
  <circle cx="50" cy="50" r="45" fill="url(#alertGrad)"/>
  <rect x="47" y="25" width="6" height="30" fill="white" rx="3"/>
  <circle cx="50" cy="70" r="4" fill="white"/>
</svg>`
            },
            {
                id: 9,
                title: "通知アイコン",
                category: "icon",
                description: "ベル型の通知アイコン。バッジ付きで未読数を表示可能。",
                svgCode: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="100" height="100">
  <path d="M 50 20 C 40 20 35 25 35 35 L 35 50 C 35 55 30 60 25 60 L 75 60 C 70 60 65 55 65 50 L 65 35 C 65 25 60 20 50 20 Z" fill="#667eea"/>
  <path d="M 42 65 C 42 70 45 75 50 75 C 55 75 58 70 58 65" stroke="#667eea" stroke-width="3" fill="none" stroke-linecap="round"/>
  <circle cx="65" cy="30" r="10" fill="#ef4444"/>
  <text x="65" y="34" font-size="12" fill="white" font-weight="bold" text-anchor="middle">3</text>
</svg>`
            },
            {
                id: 10,
                title: "プログレスバー",
                category: "ui",
                description: "進捗状況を示すプログレスバー。パーセンテージ表示付き。",
                svgCode: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 60" width="300" height="60">
  <rect x="10" y="20" width="280" height="20" fill="#f0f0f0" rx="10"/>
  <defs>
    <linearGradient id="progressGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#667eea" />
      <stop offset="100%" style="stop-color:#764ba2" />
    </linearGradient>
  </defs>
  <rect x="10" y="20" width="196" height="20" fill="url(#progressGrad)" rx="10"/>
  <text x="150" y="35" font-size="12" fill="white" font-weight="bold" text-anchor="middle">70%</text>
</svg>`
            },
            {
                id: 11,
                title: "ステータスバッジ",
                category: "ui",
                description: "完了、進行中、保留などのステータスを表示するバッジ。",
                svgCode: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 40" width="120" height="40">
  <rect width="120" height="40" fill="#10b981" rx="20"/>
  <circle cx="25" cy="20" r="6" fill="white"/>
  <text x="40" y="25" font-size="14" fill="white" font-weight="600">完了</text>
</svg>`
            },
            {
                id: 12,
                title: "評価スター",
                category: "ui",
                description: "5段階評価を表示するスターアイコン。評価システムに最適。",
                svgCode: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 40" width="200" height="40">
  <defs>
    <linearGradient id="starGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#fbbf24" />
      <stop offset="100%" style="stop-color:#f59e0b" />
    </linearGradient>
  </defs>
  <polygon points="20,8 24,18 35,18 26,24 30,34 20,28 10,34 14,24 5,18 16,18" fill="url(#starGrad)"/>
  <polygon points="60,8 64,18 75,18 66,24 70,34 60,28 50,34 54,24 45,18 56,18" fill="url(#starGrad)"/>
  <polygon points="100,8 104,18 115,18 106,24 110,34 100,28 90,34 94,24 85,18 96,18" fill="url(#starGrad)"/>
  <polygon points="140,8 144,18 155,18 146,24 150,34 140,28 130,34 134,24 125,18 136,18" fill="url(#starGrad)"/>
  <polygon points="180,8 184,18 195,18 186,24 190,34 180,28 170,34 174,24 165,18 176,18" fill="#e5e7eb"/>
</svg>`
            },
            {
                id: 13,
                title: "ドーナツグラフ",
                category: "graph",
                description: "中央に数値を表示できるドーナツ型のグラフ。複数の値を同時に表示可能。",
                svgCode: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" width="200" height="200">
  <circle cx="100" cy="100" r="70" fill="none" stroke="#f0f0f0" stroke-width="30"/>
  <circle cx="100" cy="100" r="70" fill="none" stroke="#667eea" stroke-width="30" stroke-dasharray="264 440" stroke-dashoffset="0" transform="rotate(-90 100 100)"/>
  <circle cx="100" cy="100" r="70" fill="none" stroke="#764ba2" stroke-width="30" stroke-dasharray="132 440" stroke-dashoffset="-264" transform="rotate(-90 100 100)"/>
  <text x="100" y="95" text-anchor="middle" font-size="28" font-weight="bold" fill="#1a1a1a">85%</text>
  <text x="100" y="115" text-anchor="middle" font-size="12" fill="#666">達成率</text>
</svg>`
            },
            {
                id: 14,
                title: "タイムラインアイコン",
                category: "icon",
                description: "プロセスやステップを示すタイムライン。各ステップの進捗を視覚化。",
                svgCode: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 100" width="300" height="100">
  <line x1="30" y1="50" x2="270" y2="50" stroke="#e5e7eb" stroke-width="4"/>
  <circle cx="30" cy="50" r="15" fill="#10b981"/>
  <circle cx="110" cy="50" r="15" fill="#667eea"/>
  <circle cx="190" cy="50" r="15" fill="#667eea"/>
  <circle cx="270" cy="50" r="15" fill="#e5e7eb"/>
  <text x="30" y="85" font-size="12" fill="#666" text-anchor="middle">完了</text>
  <text x="110" y="85" font-size="12" fill="#666" text-anchor="middle">進行中</text>
  <text x="190" y="85" font-size="12" fill="#666" text-anchor="middle">待機中</text>
  <text x="270" y="85" font-size="12" fill="#666" text-anchor="middle">未開始</text>
</svg>`
            },
            {
                id: 15,
                title: "メトリクスカード",
                category: "card",
                description: "複数の指標を一度に表示できるダッシュボード用カード。",
                svgCode: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 180" width="300" height="180">
  <rect width="300" height="180" fill="#ffffff" rx="12" stroke="#e5e7eb" stroke-width="1"/>
  <text x="20" y="30" font-size="14" fill="#666" font-weight="500">パフォーマンス</text>
  <line x1="20" y1="45" x2="280" y2="45" stroke="#e5e7eb" stroke-width="1"/>
  <text x="20" y="75" font-size="12" fill="#666">アクティブユーザー</text>
  <text x="280" y="75" font-size="18" fill="#667eea" font-weight="bold" text-anchor="end">1,234</text>
  <text x="20" y="110" font-size="12" fill="#666">新規登録</text>
  <text x="280" y="110" font-size="18" fill="#10b981" font-weight="bold" text-anchor="end">+89</text>
  <text x="20" y="145" font-size="12" fill="#666">コンバージョン率</text>
  <text x="280" y="145" font-size="18" fill="#764ba2" font-weight="bold" text-anchor="end">3.2%</text>
</svg>`
            }
        ];

        let currentCategory = 'all';
        let currentSearchTerm = '';
        let currentSample = null;

        // ページ読み込み時に実行
        document.addEventListener('DOMContentLoaded', () => {
            renderGallery();
            setupEventListeners();
        });

        // イベントリスナーの設定
        function setupEventListeners() {
            // 検索
            document.getElementById('searchInput').addEventListener('input', (e) => {
                currentSearchTerm = e.target.value.toLowerCase();
                renderGallery();
            });

            // カテゴリータグ
            document.querySelectorAll('.category-tag').forEach(tag => {
                tag.addEventListener('click', (e) => {
                    document.querySelectorAll('.category-tag').forEach(t => t.classList.remove('active'));
                    e.target.classList.add('active');
                    currentCategory = e.target.dataset.category;
                    renderGallery();
                });
            });

            // モーダルの外側クリックで閉じる
            document.getElementById('modal').addEventListener('click', (e) => {
                if (e.target.id === 'modal') {
                    closeModal();
                }
            });
        }

        // ギャラリーの描画
        function renderGallery() {
            const grid = document.getElementById('galleryGrid');
            const noResults = document.getElementById('noResults');

            // フィルタリング
            let filteredSamples = svgSamples.filter(sample => {
                const matchesCategory = currentCategory === 'all' || sample.category === currentCategory;
                const matchesSearch = sample.title.toLowerCase().includes(currentSearchTerm) ||
                                     sample.description.toLowerCase().includes(currentSearchTerm);
                return matchesCategory && matchesSearch;
            });

            // 件数表示
            document.getElementById('resultCount').textContent = filteredSamples.length;

            // 結果なし表示
            if (filteredSamples.length === 0) {
                grid.innerHTML = '';
                noResults.classList.remove('hidden');
                return;
            }

            noResults.classList.add('hidden');

            // カード生成
            grid.innerHTML = filteredSamples.map(sample => `
                <div class="svg-card bg-white rounded-2xl p-6 border border-gray-200 shadow-sm cursor-pointer" onclick="openModal(${sample.id})">
                    <div class="bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 mb-4 flex items-center justify-center min-h-[200px]">
                        ${sample.svgCode}
                    </div>
                    <div class="mb-2">
                        <span class="inline-block px-3 py-1 bg-indigo-50 text-indigo-600 text-xs font-medium rounded-full mb-2">
                            ${getCategoryLabel(sample.category)}
                        </span>
                    </div>
                    <h3 class="text-lg font-bold text-gray-900 mb-2">${sample.title}</h3>
                    <p class="text-sm text-gray-500 leading-relaxed line-clamp-2">${sample.description}</p>
                    <div class="mt-4 flex items-center text-indigo-600 text-sm font-medium">
                        詳細を見る
                        <span class="material-symbols-rounded text-[18px] ml-1">arrow_forward</span>
                    </div>
                </div>
            `).join('');
        }

        // カテゴリーラベルの取得
        function getCategoryLabel(category) {
            const labels = {
                'graph': 'グラフ',
                'card': 'カード',
                'icon': 'アイコン',
                'ui': 'UI要素'
            };
            return labels[category] || category;
        }

        // モーダルを開く
        function openModal(id) {
            currentSample = svgSamples.find(s => s.id === id);
            if (!currentSample) return;

            document.getElementById('modalTitle').textContent = currentSample.title;
            document.getElementById('modalCategory').textContent = getCategoryLabel(currentSample.category);
            document.getElementById('modalDescription').textContent = currentSample.description;
            document.getElementById('modalPreview').innerHTML = currentSample.svgCode;
            document.getElementById('modalCode').textContent = currentSample.svgCode;

            // Power Apps用コード生成
            const encodedSvg = currentSample.svgCode.replace(/"/g, "'");
            const powerAppsCode = `"data:image/svg+xml," & EncodeUrl("${encodedSvg}")`;
            document.getElementById('modalPowerAppsCode').textContent = powerAppsCode;

            document.getElementById('modal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        // モーダルを閉じる
        function closeModal() {
            document.getElementById('modal').classList.remove('show');
            document.body.style.overflow = 'auto';
        }

        // SVGコードをコピー
        function copySvgCode() {
            const code = document.getElementById('modalCode').textContent;
            navigator.clipboard.writeText(code).then(() => {
                showCopyNotification('SVGコードをコピーしました');
            });
        }

        // Power Apps用コードをコピー
        function copyPowerAppsCode() {
            const code = document.getElementById('modalPowerAppsCode').textContent;
            navigator.clipboard.writeText(code).then(() => {
                showCopyNotification('Power Apps用コードをコピーしました');
            });
        }

        // コピー通知
        function showCopyNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'fixed bottom-8 right-8 bg-gray-900 text-white px-6 py-3 rounded-lg shadow-lg z-50 flex items-center gap-2';
            notification.innerHTML = `
                <span class="material-symbols-rounded text-[20px]">check_circle</span>
                ${message}
            `;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.remove();
            }, 3000);
        }
    </script>
</body>
</html>
